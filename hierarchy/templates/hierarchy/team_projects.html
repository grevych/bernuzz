{% extends 'hierarchy/team_dashboard.html' %}
{% load staticfiles %}



{% block section %}

<div style="margin-top:20px; font-size:12px;">

    {% for project in  projects %}
    <div class="shape square" style="margin:20px 20px  40px 20px; float:left;">
        <a class="preview" href=""
            data-id=""
            data-content='{"name": "{{project.name}}", "logo": "{{project.logo.url}}", "description": "{{project.description}}", "team": 0, "area": "{{project.area}}", "college": 0, "privacy": 0}'>
            <div style=" overflow:hidden;">
                <img  src="{{ project.logo.url }}"  style=" position:relative; width:100%;  ">
            </div> 
        </a>
        <a class="link" href="{% url 'management:project' project=project.name %}" style="display:none;">
            <div style="background:rgba(0, 0, 0, 0.4);">
            </div>
        </a>
        <div style="top:100%; height:40px; font-family:Open Sans; font-size:12px; margin-right:-10px; margin-left:-10px;">
            <div class="label">{{ project.name }} </div>
        </div>
    </div>
    {% endfor %}

    <div class ="shape square" style="margin:20px 20px 40px 20px; float:left;">
        <a href="{% url 'management:project' %}">
            <div class="align" style="border:2px dashed #AEAEAE; overflow:hidden; ">
                <i class="fa fa-w fa-plus" style="color:#AEAEAE;"></i>
                <!-- <img  src="{% static 'img/project.png' %}"  style=" position:relative; width:100%;  "> -->
                
            </div> 
        </a>
        <div class="label" style="top:100%; padding-left:8px; height:40px; font-family:Open Sans;  font-size:12px;">
            New Project
        </div> 
    </div>


</div>
{% endblock %}

{% block sidebar %}

    <div id="preview-container" style="width:30%; border-left:1px solid #F2F2F2; border-right:1px solid #F2F2F2; right:15px; height:100%; display:inline-block; float:left; background:#FFF; position:fixed; display:none;">
        <div style=" width:100%; height:100%; overflow-y:scroll; position:absolute; ">
            <div style="padding:28px 24px 18px;">
                <div class="shape square simple" style="width:60px; min-width:0; margin:0 10px 10px 0; vertical-align:top;" >
                    <div style=" overflow:hidden;">
                        <img  id="project-logo-preview" src=""  style=" position:relative; width:100%;  ">
                    </div> 
                </div>
                <div style="display:inline-block; vertical-align:top;">
                    <div id="project-name-preview" style="font-family:Open Sans; font-size:14px; font-weight:400; color:#434343;"></div>
                    <div style="font-family:Open Sans; font-size:14px; font-weight:300; color:#434343;">ITESM Campus Quer√©taro</div>
                    <div style="font-family:Open Sans; font-size:12px; font-weight:300; color:#434343; background:#FDAD73; padding:1px 6px; display:inline-block; border-radius:2px;">Stand by</div>
                </div>
            </div>


            <div style="padding:12px 24px; border-top:1px solid #F2F2F2;">
                <div id="project-description-preview" style="font-family:Open Sans; font-size:14px; font-weight:300; color:#434343; ">Focus on being creative, not organizing Files.</div>
            
            </div>

            <div style="padding:2px 24px; border-top:1px solid #F2F2F2;">
                <!-- <div style="font-family:Open Sans; font-size:14px; font-weight:300; color:#434343; margin-top:12px;">Team</div> -->
                <div style="">
                    <div class="shape circle simple" style="width:40px; min-width:0; margin:8px 2px;" >
                        <div>
                            <img  src="{% static 'img/user.jpg' %}"  style=" position:relative; width:100%;  ">
                        </div> 
                    </div>  

                </div>
            </div>
            

            <div style="padding:12px 24px; border-top:1px solid #F2F2F2;">
                <div style="font-family:Open Sans; font-size:14px; font-weight:300; color:#434343; ">News</div>

            </div>
            <div style="padding:12px 24px; border-top:1px solid #F2F2F2;">
                <div style="font-family:Open Sans; font-size:14px; font-weight:300; color:#434343; ">Settings</div>
            
            </div>
        </div>
    </div>
{% endblock %}


{% block extra_scripts %}
<script>
    $('.preview').click(function(event) {
        $('#preview-container').css('display', 'inline-block');
        event.preventDefault();
        $('.link').hide();
        $(this).next('.link').show();
        var project = $(this).data().content;
        console.log(project);

        $('#project-name-preview').text(project.name);
        $('#project-description-preview').text(project.description);
        $('#project-logo-preview').attr('src', project.logo);
        console.log($('#project-logo-preview').attr('src'));

        return false;
    });

</script>
{% endblock %}